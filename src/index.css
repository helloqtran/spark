@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --vh: 1vh;
  }
  
  
  html {
    scrollbar-width: thin;
    scrollbar-color: #D8A159 #1f2937;
    margin: 0 !important;
    padding: 0 !important;
    height: 100vh !important;
    height: 100dvh !important; /* Dynamic viewport height for mobile */
    width: 100vw !important;
    max-height: 100vh !important;
    max-height: 100dvh !important; /* Dynamic viewport for mobile */
    max-width: 100vw !important;
    overflow: hidden !important;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    /* Extend page background behind system UI safe areas to the full screen height */
    min-height: 100vh;
    min-height: 100dvh; /* Dynamic viewport for better mobile support */
    min-height: 100svh; /* Shortest viewport to extend past iOS address bar */
    background: 
      radial-gradient(ellipse 60vh 45vh at 15% 35vh, rgba(216, 161, 89, 0.5) 0%, transparent 50%),
      radial-gradient(ellipse 60vh 45vh at 85% 65vh, rgba(184, 138, 74, 0.4) 0%, transparent 50%),
      radial-gradient(ellipse 80vh 60vh at 50% 50vh, #D8A159 0%, #000000 70%);
    background-color: #000000;
    background-attachment: fixed;
    background-size: 100% 100%;
    background-position: 0 0;
    background-repeat: no-repeat;
  }
  
  html::-webkit-scrollbar {
    width: 12px;
  }
  
  html::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
  }
  
  html::-webkit-scrollbar-thumb {
    background: #D8A159;
    border-radius: 6px;
    border: 2px solid rgba(0, 0, 0, 0.1);
  }
  
  html::-webkit-scrollbar-thumb:hover {
    background: #B88A4A;
  }
  
  html::-webkit-scrollbar-thumb:active {
    background: #8A6B2F;
  }
  
  body {
    font-family: 'Lato', sans-serif;
    scrollbar-width: thin;
    scrollbar-color: #D8A159 #1f2937;
    margin: 0 !important;
    padding: 0 !important;
    height: 100vh !important;
    height: 100dvh !important; /* Dynamic viewport height for mobile */
    width: 100vw !important;
    max-height: 100vh !important;
    max-height: 100dvh !important; /* Dynamic viewport for mobile */
    max-width: 100vw !important;
    background: transparent !important;
    overflow: hidden !important;
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    touch-action: manipulation;
  }
  
  body::-webkit-scrollbar {
    width: 12px;
  }
  
  body::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
  }
  
  body::-webkit-scrollbar-thumb {
    background: #D8A159;
    border-radius: 6px;
    border: 2px solid rgba(0, 0, 0, 0.1);
  }
  
  body::-webkit-scrollbar-thumb:hover {
    background: #B88A4A;
  }
  
  body::-webkit-scrollbar-thumb:active {
    background: #8A6B2F;
  }
  
  h1, h2, h3, h4, h5, h6 {
    font-family: 'Lato', sans-serif;
  }
  
  .spark-font {
    font-family: 'Italiana', 'Times New Roman', serif;
  }
  
  .noto-serif-jp {
    font-family: 'Noto Serif JP', serif;
    text-transform: uppercase;
  }
  
  .spark-logo {
    font-family: 'Italiana', 'Times New Roman', serif;
    text-transform: uppercase;
  }
  
  .noto-serif-jp-normal {
    font-family: 'Noto Serif JP', serif;
  }
  
  /* Responsive line height classes for consistent spacing across font sizes */
  .leading-responsive-sm {
    line-height: 1.4;
  }
  
  .leading-responsive-base {
    line-height: 1.5;
  }
  
  .leading-responsive-lg {
    line-height: 1.4;
  }
  
  .leading-responsive-xl {
    line-height: 1.3;
  }
  
  .leading-responsive-2xl {
    line-height: 1.2;
  }
  
  .leading-responsive-3xl {
    line-height: 1.1;
  }
  
  .leading-responsive-4xl {
    line-height: 1.05;
  }
  
  select {
    background-image: none !important;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
  }
  
  select::-ms-expand {
    display: none;
  }
  
  /* Custom scrollbar styles */
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: #D8A159 #1f2937;
  }
  
  .custom-scrollbar::-webkit-scrollbar {
    width: 12px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 6px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: #D8A159;
    border-radius: 6px;
    border: 2px solid rgba(0, 0, 0, 0.1);
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: #B88A4A;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb:active {
    background: #8A6B2F;
  }
  
  /* Safari-specific scrollbar styles */
  *::-webkit-scrollbar {
    width: 14px;
    height: 14px;
  }
  
  *::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.4);
    border-radius: 7px;
  }
  
  *::-webkit-scrollbar-thumb {
    background: #D8A159;
    border-radius: 7px;
    border: 1px solid rgba(0, 0, 0, 0.3);
    min-height: 20px;
  }
  
  *::-webkit-scrollbar-thumb:hover {
    background: #B88A4A;
  }
  
  *::-webkit-scrollbar-thumb:active {
    background: #8A6B2F;
  }
  
  *::-webkit-scrollbar-corner {
    background: rgba(0, 0, 0, 0.4);
  }
  
  /* Firefox scrollbar styles */
  * {
    scrollbar-width: thin;
    scrollbar-color: #D8A159 #1f2937;
  }
  
  #root {
    height: 100vh !important;
    width: 100vw !important;
    max-height: 100vh !important;
    max-width: 100vw !important;
    margin: 0 !important;
    padding: 0 !important;
    position: relative !important;
    background-color: transparent !important;
    overflow: hidden !important;
  }
  
  /* Allow touch actions on interactive elements */
  button, input, select, textarea, [role="button"], [tabindex] {
    touch-action: manipulation !important;
  }

  /* Allow scrolling only in designated containers */
  .overflow-y-auto, .custom-scrollbar {
    touch-action: pan-y !important;
  }

  /* Prevent all scrolling and panning on card components */
  [data-prompt-card] {
    touch-action: none !important;
    overscroll-behavior: none !important;
  }

  [data-prompt-card] * {
    touch-action: none !important;
  }
  
  /* Specifically allow scrolling in dropdown containers */
  .custom-scrollbar * {
    touch-action: pan-y !important;
  }
  
  /* Ensure dropdown scrolling works properly */
  .custom-scrollbar {
    touch-action: pan-y !important;
    -webkit-overflow-scrolling: touch !important;
  }
  
  .full-height {
    height: calc(var(--vh, 1vh) * 100) !important;
  }
}